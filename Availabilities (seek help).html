<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Availabilities</title>

    <meta name="comp1800 boilerplate code" content="Availabilities">
    <meta name="author" content="BBY02">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Google Icons (Material Design)-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">



    <!-- Firebase 8 CDNs-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>

    <!-- Link to the api keys for your firebase project -->
    <script src="./scripts/firebaseAPI_TEAMBBY02.js"></script>

    <style>
        html {
            padding: 0px;
            margin: 0px;
            background-color: rgb(6, 78, 66);
            background-image: linear-gradient(#0F2027, #203A43, #2C5364);
            height: 100%;
        }

        body {
            background-color: rgb(6, 78, 66);
            background-image: linear-gradient(#0F2027, #203A43, #2C5364);
        }


        .pset {
            font-size: 20px;
            text-align: center;
        }

        footer {
            background-color: #BBB;
            height: 8vh;
        }

        .headerset {
            display: grid;
            text-align: center;
            top: 10%;
            color: aliceblue;
        }

        table td {
            width: 600px;
            height: 25px;
            text-align: center;
            vertical-align: middle;
            background-color: #ccc;
            border: 1px solid #fff;
            font-size: 10px;

        }

        table td.highlighted {
            background-color: rgb(235, 238, 73);
        }

        .tableTime {
            width: 600px;
            height: 25px;
            text-align: center;
            vertical-align: middle;
            background-color: rgb(112, 112, 112);
            border: 1px solid #fff;


        }
    </style>
</head>

<body>

    <!------------------------------------>
    <!-- Your own HTML layout goes here -->
    <!------------------------------------>

    <div class="container">

        <br>
        <br>

        <br>
        <br>

        <header class="headerset">
            <h1>Availability</h1>
            <center>
                <hr style="width: 90%;">
            </center>
        </header>

        <br>
        <br>


        <table cellpadding="20" cellspacing="0" id="our_table">
            <tr Class="tableTime">
                <td Class="tableTime"></td>
                <td Class="tableTime">Monday</td>
                <td Class="tableTime">Tuesday</td>
                <td Class="tableTime">Wednesday</td>
                <td Class="tableTime">Thursday</td>
                <td Class="tableTime">Friday</td>
                <td Class="tableTime">Saturday</td>
                <td Class="tableTime">Sunday</td>
            </tr>
            <tr>
                <td Class="tableTime">8:00-9:00AM</td>
                <td id="M800"></td>
                <td id="T800"></td>
                <td id="W800"></td>
                <td id="Th800"></td>
                <td id="F800"></td>
                <td id="S800"></td>
                <td id="Su800"></td>
            </tr>
            <tr>
                <td Class="tableTime">9:00-10:00AM</td>
                <td id="M900"></td>
                <td id="T900"></td>
                <td id="W900"></td>
                <td id="Th900"></td>
                <td id="F900"></td>
                <td id="S900"></td>
                <td id="Su900"></td>
            </tr>

            <tr>
                <td Class="tableTime">10:00-11:00AM</td>
                <td id="M1000"></td>
                <td id="T1000"></td>
                <td id="W1000"></td>
                <td id="Th1000"></td>
                <td id="F1000"></td>
                <td id="S1000"></td>
                <td id="Su1000"></td>
            </tr>
            <tr>
                <td Class="tableTime">11:00-12:00PM</td>
                <td id="M1100"></td>
                <td id="T1100"></td>
                <td id="W1100"></td>
                <td id="Th1100"></td>
                <td id="F1100"></td>
                <td id="S1100"></td>
                <td id="Su1100"></td>
            </tr>
            <tr>
                <td Class="tableTime">1:00-2:00PM</td>
                <td id="M1200"></td>
                <td id="T1200"></td>
                <td id="W1200"></td>
                <td id="Th1200"></td>
                <td id="F1200"></td>
                <td id="S1200"></td>
                <td id="Su1200"></td>
            </tr>
            <tr>
                <td Class="tableTime">2:00-3:00PM</td>
                <td id="M1300"></td>
                <td id="T1300"></td>
                <td id="W1300"></td>
                <td id="Th1300"></td>
                <td id="F1300"></td>
                <td id="S1300"></td>
                <td id="Su1300"></td>
            </tr>
            <tr>
                <td Class="tableTime">3:00-4:00PM</td>
                <td id="M1400"></td>
                <td id="T1400"></td>
                <td id="W1400"></td>
                <td id="Th1400"></td>
                <td id="F1400"></td>
                <td id="S1400"></td>
                <td id="Su1400"></td>
            </tr>
            <tr>
                <td Class="tableTime">4:00-5:00PM</td>
                <td id="M1500"></td>
                <td id="T1500"></td>
                <td id="W1500"></td>
                <td id="Th1500"></td>
                <td id="F1500"></td>
                <td id="S1500"></td>
                <td id="Su1500"></td>
            </tr>
            <tr>
                <td Class="tableTime">5:00-6:00PM</td>
                <td id="M1600"></td>
                <td id="T1600"></td>
                <td id="W1600"></td>
                <td id="Th1600"></td>
                <td id="F1600"></td>
                <td id="S1600"></td>
                <td id="Su1600"></td>
            </tr>


        </table>

        <br>

        <div class="d-flex justify-content-end">

            <a href="postDetails.html">
                <button id="button1" type="button" class="btn btn-lg btn-primary pull-left">
                    <p class="pset"><b>Back</b></p>
                </button>
            </a>
            &nbsp; &nbsp; &nbsp;
            <a href="missionPosted.html">
                <button id="button2" type="button" class="btn btn-lg btn-primary pull-right" onclick="saveToggles()">
                    <p class="pset"><b>Post</b></p>
                </button>
            </a>
        </div>



        <br>


        <footer class="navbar justify-content-evenly fixed-bottom">
            <a href="main.html">
                <i class="material-icons">home</i>
            </a>
            <i class="material-icons">info</i>
            <a href="missionBoard.html">
                <i class="material-icons"><span class="material-icons-two-tone"> volunteer_activism </span> </i>
            </a>
            <i class="material-icons">settings</i>
        </footer>



    </div>



    <!--------------------------------------------------->
    <!-- Your Javascript Libraries and scripts go here -->
    <!--------------------------------------------------->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script>



        //document.getElementsByClassName(isHighlighted)


        $(function () {
            var isMouseDown = false,
                isHighlighted;
            $("#our_table td")
                .mousedown(function () {
                    isMouseDown = true;
                    $(this).toggleClass("highlighted");
                    isHighlighted = $(this).hasClass("highlighted");

                    return false; // prevent text selection
                })
                .mouseover(function () {
                    if (isMouseDown) {
                        $(this).toggleClass("highlighted", isHighlighted);
                    }
                });

            $(document)
                .mouseup(function () {
                    isMouseDown = false;
                });
        });




        function saveToggles(postid) {
            //get all the toggled divs into an array
            var toggles = ["M800", "M900", "M1000", "W800", "W900", "W1000", "F800", "F900", "F1000"];
            toggles.forEach(item => {
                console.log(item);
                db.collection("posts").doc(postid).set({
                    availability: firebase.firestore.FieldValue.arrayUnion(item)
                }, { merge: true });
            })
        }
        saveToggles("pmsMtRGt4BXHM764oqIjGzgd2PR2");




    </script>

</body>

</html>